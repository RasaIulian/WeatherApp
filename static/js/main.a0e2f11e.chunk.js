(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(25)},22:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),o=n.n(l);n(22);const c=async(e,t)=>{const n="https://api.openweathermap.org/data/3.0/onecall?lat=".concat(e,"&lon=").concat(t,"&units=metric&exclude=minutely&appid=").concat("4cbdbc7df66de5de3bc03227c33e61be");try{const e=await fetch(n),t=await e.json();if(!e.ok)throw new Error("".concat(t.cod,": ").concat(t.message));return t}catch(a){throw console.error("Error fetching weather data:",a),a}},i=()=>{const[e,t]=Object(a.useState)(!1),[n,r]=Object(a.useState)(""),[l,o]=Object(a.useState)(!1);Object(a.useEffect)(()=>{if(window.google&&window.google.maps)return void o(!0);return window.initMap=(()=>{o(!0)}),(()=>{if(!document.querySelector('script[src^="https://maps.googleapis.com/maps/api/js"]')){const e=document.createElement("script"),t="AIzaSyAao4fbyCIjghUZoOJQe4OBjDA64QTYm08";e.src="https://maps.googleapis.com/maps/api/js?key=".concat(t,"&libraries=geometry&callback=initMap&loading=async"),e.async=!0,document.head.appendChild(e)}})(),()=>{delete window.initMap}},[]);return{fetchAltitude:async(e,n)=>{if(!l)return void r("Google Maps Altitude API not loaded yet");t(!0),r("");const a=new window.google.maps.ElevationService,o={lat:parseFloat(e),lng:parseFloat(n)};try{const e=await new Promise((e,t)=>{a.getElevationForLocations({locations:[o]},(n,a)=>{"OK"===a&&n&&n.length>0?(e(parseInt(n[0].elevation)),r("")):t(new Error("Elevation service error: ".concat(a)))})});return t(!1),e}catch(c){console.error("Error fetching altitude data:",c.message),r("Error fetching altitude data: "+c.message)}t(!1)},loadingAltitude:e,altitudeError:n}},u=(e,t)=>{const[n,r]=Object(a.useState)(null),[l,o]=Object(a.useState)({}),[c,i]=Object(a.useState)(!1),[u,s]=Object(a.useState)(""),d={no2:[0,50,100,200,400,1/0],pm10:[0,25,50,90,180,1/0],o3:[0,60,120,180,240,1/0],pm2_5:[0,15,30,55,110,1/0],so2:[0,20,80,250,350,1/0],co:[0,4400,9400,12400,15400,1/0],nh3:[.1,40,80,120,200],no:[.1,20,40,60,100]};return Object(a.useEffect)(()=>{(async()=>{if(!e||!t)return;i(!0),s("");const n="https://api.openweathermap.org/data/2.5/air_pollution?lat=".concat(e,"&lon=").concat(t,"&appid=").concat("4cbdbc7df66de5de3bc03227c33e61be");try{const e=await fetch(n);if(!e.ok)throw new Error("Server responded with status: ".concat(e.status));const t=await e.json();if(!(t.list&&t.list.length>0))throw new Error("Air quality data is not available.");r(t.list[0].main.aqi),o(t.list[0].components)}catch(a){console.error("Error fetching air quality data:",a),s("Error fetching air quality data: "+a.message)}finally{i(!1)}})()},[e,t]),{aqi:n,components:l,loadingAQI:c,errorAQI:u,getAQICategory:e=>1===e?"Good":2===e?"Fair":3===e?"Moderate":4===e?"Poor":5===e?"Very Poor":"Unknown",getAQIColor:e=>1===e?"#00cc66":2===e?"#ffcc00":3===e?"#ff6600":4===e?"#cc0000":5===e?"#9900cc":"#333333",categorizeComponent:(e,t)=>{const n=d[e];return n?t<=n[0]?"Very Low":t<=n[1]?"Low":t<=n[2]?"Medium":t<=n[3]?"High":"Very High":"Unknown"}}};var s,d,m,p,g,E,b,h,w,x,f,y=n(12),O=n(11),S=n(3),v=n(4);const j=v.a.div(s||(s=Object(S.a)(["\n  padding: 5px;\n  border-radius: 5px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  width: 100%;\n  max-width: 470px;\n  p {\n    margin: 5px 0;\n    display: inline-flex;\n  }\n  h3 {\n    margin-bottom: 0;\n  }\n  li {\n    margin: 5px 0;\n  }\n"]))),k=v.a.div(d||(d=Object(S.a)(["\n  background-color: #ffcdd2;\n  color: #c63737;\n  padding: 5px;\n  border-radius: 5px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  margin: 10px 0;\n  max-width: 470px;\n"]))),A=Object(v.b)(m||(m=Object(S.a)(["\n  0% {\n    transform: translateX(0);\n  }\n  50% {\n    transform: scale(0.9);\n  }\n  100% {\n    transform: translateX(5px);\n  }\n"]))),I=v.a.img(p||(p=Object(S.a)(["\n  animation: "," 6s infinite alternate ease-in-out;\n\n  padding-top: 0;\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.05);\n"])),A),L=v.a.button(g||(g=Object(S.a)(["\n  padding: 10px;\n  border: 1px solid #eaeaea;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: background-color, box-shadow 0.3s ease;\n  &:hover {\n    background-color: #eaeaea;\n    box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);\n  }\n"]))),C=v.a.select(E||(E=Object(S.a)(["\n  padding: 5px;\n  border: 1px solid #eaeaea;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  background-color: #eaeaea;\n  transition: box-shadow 0.3s ease;\n  &:hover {\n    box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);\n  }\n  &:focus {\n    border: none;\n    outline: none;\n  }\n\n  /* Styles for active (selected) option */\n  option:checked {\n    border: none;\n    font-weight: bold;\n  }\n\n  /* Styles for inactive (unselected) options */\n  option:not(:checked) {\n    border: none;\n    outline: none;\n  }\n"]))),D=v.a.img(b||(b=Object(S.a)(["\n  border-radius: 5px;\n  max-width: 470px;\n  width: 100%;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n"]))),N=v.a.span(h||(h=Object(S.a)(["\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n  margin: 0 5px;\n  border-radius: 3px;\n  border: 1px solid rgba(170, 170, 170, 0.5); // Equivalent RGBA color for #aaaaaa\n"]))),M=v.a.div(w||(w=Object(S.a)(["\n  color: #d32f2f;\n"]))),H=v.a.span.attrs(e=>({$deg:e.$deg}))(f||(f=Object(S.a)(["\n  margin-left: 10px;\n  border-left: 8px solid transparent;\n  border-right: 8px solid transparent;\n  border-bottom: 20px solid #aaaaaa;\n  border-radius: 6px;\n  transform-origin: center;\n  animation: ",' 2s infinite alternate\n    ease-in-out;\n\n  &::after {\n    content: "";\n    position: absolute;\n    left: -2.5px;\n    top: 12px;\n    width: 5px;\n    height: 5px;\n    background: linear-gradient(\n      ',"deg,\n      #ffff00,\n      #ff0000,\n      #800080\n    );\n    border-radius: 50%;\n  }\n"])),e=>(e=>Object(v.b)(x||(x=Object(S.a)(["\n  from {\n    transform: rotate(","deg);\n  }\n  to {\n    transform: rotate(","deg);\n  }\n"])),e+180-10,e+180+10))(e.$deg),e=>e.$deg+180);function P(){const[e,t]=Object(a.useState)(null),[n,l]=Object(a.useState)(null),[o,s]=Object(a.useState)(null),[d,m]=Object(a.useState)(""),[p,g]=Object(a.useState)(!1),[E,b]=Object(a.useState)(""),[h,w]=Object(a.useState)(!1),[x,f]=Object(a.useState)(!1),{fetchAltitude:S,loadingAltitude:v,altitudeError:A}=i(),{aqi:P,components:U,loadingAQI:T,errorAQI:F,getAQICategory:Q,getAQIColor:_,categorizeComponent:W}=u(e,n),[q,B]=Object(a.useState)(!1),R=()=>{f(!0);const e=document.getElementsByClassName("toHide");if(navigator.geolocation){navigator.geolocation.getCurrentPosition(e=>z(e.coords.latitude,e.coords.longitude),G);for(let t=0;t<e.length;t++)e[t].style.display="none";g(!0),f(!1)}else b("Geolocation is not supported by this browser."),f(!1)},z=async(e,n)=>{t(e),l(n);try{const t=await S(e,n);let r="https://maps.googleapis.com/maps/api/staticmap?center="+(e+","+n)+"&zoom=15&size=470x250&sensor=false&key=AIzaSyDOkBlOAJdoASnvwDn38G0mU9TJo5dcjXI";const l=document.getElementById("location"),o=document.getElementById("mapholder");l&&o&&(l.innerHTML="Latitude: ".concat(e.toFixed(1),"\xb0<br>\n        Longitude: ").concat(n.toFixed(1),"\xb0<br>\n        Altitude: ").concat(t,"m"),o.src=r)}catch(a){}},G=e=>{switch(e.code){default:b("Unknown error");break;case e.PERMISSION_DENIED:b("You denied the request for GeoLocation. Please enable for feature to work");break;case e.POSITION_UNAVAILABLE:b("Location information is unavailable. Please try again later.");break;case e.TIMEOUT:b("The request to get user location timed out. Please try again later.");break;case e.UNKNOWN_ERROR:b("An unknown error occurred. Please try again later.")}f(!1)};function V(e){return e>=0&&e<=2?"Low":e>2&&e<=5?"Moderate":e>5&&e<=7?"High":e>7&&e<=10?"Very High":e>10?"Extreme":"Unknown"}return Object(a.useEffect)(()=>{e&&n&&(async()=>{w(!0);try{const a=await c(e,n);s(a),b("")}catch(t){console.error("Error fetching weather data:",t),b("Error fetching weather data: ".concat(t.message))}finally{w(!1)}})()},[e,n]),r.a.createElement("div",null,r.a.createElement("h2",null,"Geolocation Weather App"),r.a.createElement("p",{className:"toHide"},"Click the button to get your coordinates and weather."),r.a.createElement("p",{className:"toHide"},"Location permission must be accepted."),r.a.createElement(L,{onClick:R,className:"toHide"},"Try It"),x&&r.a.createElement("p",null,"Loading location data..."),v&&!A&&r.a.createElement("p",null,"Loading altitude data..."),T&&r.a.createElement("p",null,"Loading air quality..."),h&&r.a.createElement("p",null,"Loading weather data..."),!x&&!v&&!T&&p&&r.a.createElement(C,{value:d,onChange:e=>{const t=e.target.selectedIndex,n=e.target.options[t],a=n.getAttribute("latitude"),r=n.getAttribute("longitude");m(n.text),"current"===a&&"current"===r?R():z(parseFloat(a),parseFloat(r))}},""===d&&r.a.createElement("option",{value:""},"Select favorite location"),r.a.createElement("option",{latitude:"current",longitude:"current"},"Current Location"),r.a.createElement("option",{latitude:"45.768739",longitude:"23.641838"},"Dobra, RO"),r.a.createElement("option",{latitude:"45.806776",longitude:"24.146329"},"Sibiu, RO"),r.a.createElement("option",{latitude:"45.871873",longitude:"24.064956"},"Ocna Sb, RO"),r.a.createElement("option",{latitude:"44.4268",longitude:"26.1025"},"Bucharest, RO"),r.a.createElement("option",{latitude:"52.5200",longitude:"13.4050"},"Berlin, DE"),r.a.createElement("option",{latitude:"42.836948",longitude:"-84.605148"},"Dewitt, USA")),r.a.createElement("div",null,r.a.createElement("p",{id:"location"}),r.a.createElement(D,{id:"mapholder"})),A&&r.a.createElement(k,null,A),E&&r.a.createElement(k,null,E),r.a.createElement("div",null,!h&&!x&&!v&&!T&&o&&r.a.createElement("div",null,r.a.createElement("br",null),null!==P&&!T&&!F&&r.a.createElement(j,null,r.a.createElement("h3",null,"Air Quality:"),r.a.createElement("p",null,"AQI (Air Quality Index): ",P," - ",Q(P)),r.a.createElement("br",null),r.a.createElement(L,{onClick:()=>{B(!q)}},r.a.createElement(y.a,{icon:O.a,style:{color:_(P)}})," ",!q&&" more"),q&&r.a.createElement("div",null,r.a.createElement("p",null,"SO\u2082 - Sulphur dioxide: ",U.so2," \u03bcg/m3 (",W("so2",U.so2),")"),r.a.createElement("br",null),r.a.createElement("p",null,"NO\u2082 - Nitrogen dioxide: ",U.no2," \u03bcg/m3 (",W("no2",U.no2),")"),r.a.createElement("br",null),r.a.createElement("p",null,"PM10 - Coarse particulate matter: ",U.pm10," ","\u03bcg/m3 (",W("pm10",U.pm10),")"),r.a.createElement("br",null),r.a.createElement("p",null,"PM2.5 - Fine particles matter: ",U.pm2_5," \u03bcg/m3 (",W("pm2_5",U.pm2_5),")"),r.a.createElement("br",null),r.a.createElement("p",null,"O\u2083 - Ozone: ",U.o3," \u03bcg/m3 (",W("o3",U.o3),")"),r.a.createElement("br",null),r.a.createElement("p",null,"CO - Carbon monoxide: ",U.co," \u03bcg/m3 (",W("co",U.co),")"),r.a.createElement("br",null),r.a.createElement("p",null,"NO - Nitrogen monoxide: ",U.no," \u03bcg/m3 (",W("no",U.no),")"),r.a.createElement("br",null),r.a.createElement("p",null,"NH3 - Ammonia: ",U.nh3," \u03bcg/m3 (",W("nh3",U.nh3),")"))),r.a.createElement("br",null),F&&r.a.createElement(k,null,F),o.current&&r.a.createElement(j,null,r.a.createElement("h3",null,"Current Weather conditions:"),r.a.createElement("p",null,"Temperature: ",o.current.temp,"\xb0C")," ",r.a.createElement("br",null),r.a.createElement("p",null,"Feels Like: ",o.current.feels_like,"\xb0C"),r.a.createElement("br",null),r.a.createElement("p",null,"UV index: ",o.current.uvi," -",r.a.createElement(N,{style:{backgroundColor:"Low"===V(o.current.uvi)?"#4eb400":"Moderate"===V(o.current.uvi)?"#f7e400":"High"===V(o.current.uvi)?"#f88700":"Very High"===V(o.current.uvi)?"#d8001d":"Extreme"===V(o.current.uvi)?"#b54cff":"#f0f0f0"}}),r.a.createElement("span",null," ",V(o.current.uvi))),r.a.createElement("br",null),r.a.createElement("p",null,"Wind Speed: ",o.current.wind_speed," m/s"),r.a.createElement("br",null),r.a.createElement("p",null,"Wind Direction:"," ",($=o.current.wind_deg,["N","NE","E","SE","S","SW","W","NW"][Math.round($/45)%8])," ",r.a.createElement(H,{$deg:o.current.wind_deg})),r.a.createElement("br",null),r.a.createElement("p",null,"Humidity: ",o.current.humidity,"%"),r.a.createElement("br",null),r.a.createElement("p",null,"Atm. Pressure: ",o.current.pressure," mbar -"," ",(J=o.current.pressure)<1013.2?"Low":J>=1013.2?"High":"Unknown"),r.a.createElement("br",null),r.a.createElement("p",null,"Sunrise:"," ",new Date(1e3*o.current.sunrise).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),r.a.createElement("br",null),r.a.createElement("p",null,"Sunset:"," ",new Date(1e3*o.current.sunset).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),r.a.createElement("br",null),r.a.createElement("p",null,"Description: ",o.current.weather[0].description),r.a.createElement("br",null),r.a.createElement(I,{src:"https://openweathermap.org/img/wn/".concat(o.current.weather[0].icon,"@2x.png"),alt:"Weather Icon"}),o.alerts&&o.alerts.length>0&&r.a.createElement("div",null,o.alerts.map((e,t)=>r.a.createElement(M,{key:t},r.a.createElement("h3",null,"Weather Alert",o.alerts.length>=2&&" ",o.alerts.length>=2&&t+1,":"),r.a.createElement("p",null,r.a.createElement("strong",null,"Sender:\xa0")," ",e.sender_name),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Start:\xa0"),new Date(1e3*e.start).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"End:\xa0"),new Date(1e3*e.end).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Event:\xa0")," ",e.event),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Description:\xa0"),e.description))))),r.a.createElement("br",null),o.hourly&&r.a.createElement(j,null,r.a.createElement("h3",null,"Hourly Forecast:"),r.a.createElement("p",null,"*pop = probability of precipitation"),r.a.createElement("ul",null,o.hourly.slice(0,10).map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("b",null,new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),":"," "),e.temp,"\xb0C, pop: ",Math.round(100*e.pop),"%, ",e.weather[0].description,r.a.createElement(I,{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"Hourly Weather Icon"}))))),r.a.createElement("br",null),o.daily&&r.a.createElement(j,null,r.a.createElement("h3",null,"Daily Forecast:"),r.a.createElement("ul",null,o.daily.slice(0,5).map((e,t)=>{const n=new Date(1e3*e.dt).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});let a;return a=0===t?"Today - "+n:1===t?"Tomorrow - "+n:n,r.a.createElement("li",{key:t},r.a.createElement("b",null,a,":"),r.a.createElement("br",null)," Min: ",e.temp.min,"\xb0C - Max: ",e.temp.max,"\xb0C",r.a.createElement("br",null),"Probability of precipitation:"," ",parseInt(100*e.pop),"%",r.a.createElement("br",null),e.summary,r.a.createElement("br",null),r.a.createElement(I,{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,".png"),alt:"Weather Icon"}))}))),r.a.createElement("br",null))));var J,$}var U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)))}},[[14,1,2]]]);
//# sourceMappingURL=main.a0e2f11e.chunk.js.map